(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,n){e.exports=n(326)},326:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),u=n(26),c=n.n(u),o=n(8),i=n(333),l=n(14),s=n(131),d=n(47),f=n.n(d),h=n(88),g=n(89),p=n.n(g),m=function(e){return function(){var t=Object(h.a)(f.a.mark(function t(n){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("/checkIns/".concat(e));case 2:a=t.sent,n({type:"FETCH_RECENT_PFD_RESET",payload:a.data});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},E=Object(l.b)(function(e){return{recentPfdReset:new Date(e.checkIn.pfdResetDate),userId:e.auth.userId}},function(e){return{onFetchRecentPfdReset:function(t){return e(m(t))}}})(function(e){var t=e.onFetchRecentPfdReset,n=e.recentPfdReset;Object(a.useEffect)(function(){t(e.userId)},[t]);var u,c=r.a.createElement("p",null,"Loading...");return n&&(c=r.a.createElement("p",null,"No reset date recorded.  Enter one below: ")),n&&(u=n)instanceof Date&&!isNaN(u)&&(c=r.a.createElement("p",null,"You last reset on: ",n.toLocaleDateString("en-US"),".",r.a.createElement("br",null),"That's"," ",((new Date-n)/864e5).toFixed(2)," ","days ago.")),r.a.createElement("div",null,c)}),I=n(332),b=n(331),O=n(132),S=n.n(O),v=(n(168),Object(b.a)({form:"reset"})(function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"enteredLastResetDate"},"Enter reset date:"),r.a.createElement(I.a,{name:"resetDate",component:function(e){return r.a.createElement(S.a,{selected:e.input.value||null,onChange:e.input.onChange})}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Submit")))})),w=n(135),D=n(136),R=n(138),y=n(137),_=n(139),j=function(e){function t(){var e,n;Object(w.a)(this,t);for(var a=arguments.length,r=new Array(a),u=0;u<a;u++)r[u]=arguments[u];return(n=Object(R.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).onAuthChange=function(e){e?n.props.signIn(n.auth.currentUser.get().getId()):n.props.signOut()},n.onSignInClick=function(){n.auth.signIn()},n.onSignOutClick=function(){n.auth.signOut()},n}return Object(_.a)(t,e),Object(D.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.gapi.load("client:auth2",function(){window.gapi.client.init({clientId:"271794219948-7bc8n311cdthkduegssgstn3dfg5rr08.apps.googleusercontent.com",scope:"email"}).then(function(){e.auth=window.gapi.auth2.getAuthInstance(),e.onAuthChange(e.auth.isSignedIn.get()),e.auth.isSignedIn.listen(e.onAuthChange)})})}},{key:"renderAuthButton",value:function(){return null===this.props.isSignedIn?null:this.props.isSignedIn?r.a.createElement("button",{onClick:this.onSignOutClick,className:"ui red google button"},r.a.createElement("i",{className:"google icon"}),"Sign Out"):r.a.createElement("button",{onClick:this.onSignInClick,className:"ui red google button"},r.a.createElement("i",{className:"google icon"}),"Sign In with Google")}},{key:"render",value:function(){return console.log("AUTH: ",this.auth),r.a.createElement("div",null,this.renderAuthButton())}}]),t}(r.a.Component),k=Object(l.b)(function(e){return{isSignedIn:e.auth.isSignedIn}},{signIn:function(e){return{type:"SIGN_IN",payload:e}},signOut:function(){return{type:"SIGN_OUT"}}})(j),C=Object(l.b)(function(e){return{isAuthenticated:null!==e.auth.userId,userId:e.auth.userId}},{addPfdReset:function(e){return function(){var t=Object(h.a)(f.a.mark(function t(n){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("DATA: ",e),t.next=3,p.a.post("/checkIns",e);case 3:a=t.sent,n({type:"ADD_PFD_RESET",payload:a.data});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},fetchRecentPfdReset:m})(function(e){var t=null;return e.isAuthenticated&&(t=r.a.createElement(r.a.Fragment,null,r.a.createElement(E,null),r.a.createElement(v,{onSubmit:function(t){t.userId=e.userId,e.addPfdReset(t)}}))),r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),t)}),N=function(e){return r.a.createElement("div",null,r.a.createElement(C,null))},T=n(28),A={pfdResetDate:""},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PFD_RESET":var n=new Date(t.payload.date),a=new Date(e.pfdResetDate);return console.log("LOOK HERE: ",""===a),n>a||""!==a?Object(T.a)({},e,{pfdResetDate:n}):Object(T.a)({},e);case"FETCH_RECENT_PFD_RESET":return t.payload[0]?Object(T.a)({},e,{pfdResetDate:t.payload[0].resetDate}):e;default:return e}},P={inSignedIn:null,userId:null},x=Object(o.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(T.a)({},e,{isSignedIn:!0,userId:t.payload});case"SIGN_OUT":return Object(T.a)({},e,{isSignedIn:!1,userId:null});default:return e}},checkIn:F,form:i.a}),U=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,G=Object(o.e)(x,U(Object(o.a)(s.a)));c.a.render(r.a.createElement(l.a,{store:G},r.a.createElement(N,null)),document.querySelector("#root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.11371913.chunk.js.map